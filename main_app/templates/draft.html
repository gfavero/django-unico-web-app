{% extends 'base.html' %}


{% block content %}
{% load static %}


       
  {% if user.is_authenticated %}
  
  {% endif %}
  <h2 > Banco de  Assuntos </h2>
  <p></p>
  
  <div class="shadow p-4 mb-5 bg-body rounded">
    <h3> Principal </h3>
    <p></p>
    <div class="content-section">
        <div class="media">
          <div class="media-body">
                <div class="container">
                  <div class="row">
                    <div class="col-sm-8"><h3> {{principal_data}}</h3></div>
                    <div class="col-sm-4 d-flex justify-content-end" ><a href="#" class="btn btn-outline-dark" id="button_p">Editar</a></div>
      
                  </div>
                </div>
                <p></p>
          </div>
        </div>
          <form method="POST" enctype="multipart/form-data">
              {% csrf_token %}
              <fieldset class="form-group">
                  <legend class="border-bottom mb-4"></legend>
              </fieldset>
          </form>
      </div> 
        <div class="form-group">
        </div> 
            <p></p>          
            <!-- <input href="{% url 'add-conjunto' %}" type="submit" value="Adicionar Conjunto" class="btn btn-outline-info"> -->
            <div ><a class="btn btn-outline-info" href="{% url 'add-conjunto' %}"
              class="btn btn-outline-danger" >Adicionar Conjunto</a></div>
  </div>


  {% for item in conjunto_data %}  
  <div class="shadow p-4 mb-5 bg-body rounded">
    <div class="content-section">
        <div class="media">
          <div class="media-body">
            <div class="row">
              <div class="col-sm-8"><h2> {{item.content_conjunto}}</h2></div>
              <div class="col-sm-4 d-flex justify-content-end" >
                <p></p>
                  <div class="d-grid gap-2 d-md-block">
                    <a href="{% url 'edit-conjunto' item.id %}" class="btn btn-outline-dark">Editar</a>
                    <a href="{% url 'delete-conjunto' item.id %}" class="btn btn-outline-danger"  
                        onclick="return confirm('Tem certeza que deseja deletar esse conjunto?')">Apagar</a>
                </div>
              </div>
            </div>

              <form action="">
                 <legend class="border-bottom mb-4"></legend>
                 <div class="row g-3">
                 {% for base in base_data %}                  
                    {% if item.id == base.content_conjunto.id  %} 
                    <div class="col-12 col-md-6 col-lg-3 d-flex align-items-stretch">
                      <div class="shadow p-4 mb-5 bg-body rounded">
                        <div class="content-section">
              
                            <div class="media">
                              <div class="media-body">
                                <div>
                                  
                                  <div class="container">
                                    <!-- <div class="row"> -->
                                      <!-- <div class="col-9"> -->
                                        <h3>{{base}}&nbsp
                                          <a href="{% url 'delete-base' base.id %}" 
                                          onclick="return confirm('Tem certeza que deseja deletar esse base?')">
                                            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" fill="red" class="bi bi-trash" viewBox="0 0 16 16">
                                              <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                              <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                            </svg>
                                          </a>
                                        </h3> 
                                      <!-- </div> -->
                                      <!-- <div class="col-3"> -->
                                       
                                      
                                      <!-- </div> -->
                                    <!-- </div> -->
                                  </div>

                                </div>
                                
                              </div>
                            </div>
                                <fieldset class="form-group">
                                    <legend class="border-bottom mb-4"></legend>
                                   
                                    {% for sub_base in sub_base_data %}   
                                      {% if sub_base.content_base.id == base.id  %}
                                   
                                      <div class="container">
                                        <!-- <div class="row "> -->
                                          <!-- <div class="col-9 g-0 ">  -->
                                            <form action="{% url 'create-contents' %}" method='POST' id='sub-base-id'>
                                                <button href="{% url 'create-contents' %}" type="submit"
                                                name="ProjectName"  value= "{{sub_base}}" form="sub-base-id" class="btn btn-link text-start" >{{sub_base}}&nbsp
                                                <a href="{% url 'delete-sub-base' sub_base.id %}" 
                                                onclick="return confirm('Tem certeza que deseja deletar esse base?')">
                                                  <svg xmlns="http://www.w3.org/2000/svg" width="18" height="18" fill="red" class="bi bi-trash" viewBox="0 0 16 16">
                                                    <path d="M5.5 5.5A.5.5 0 0 1 6 6v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm2.5 0a.5.5 0 0 1 .5.5v6a.5.5 0 0 1-1 0V6a.5.5 0 0 1 .5-.5zm3 .5a.5.5 0 0 0-1 0v6a.5.5 0 0 0 1 0V6z"/>
                                                    <path fill-rule="evenodd" d="M14.5 3a1 1 0 0 1-1 1H13v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V4h-.5a1 1 0 0 1-1-1V2a1 1 0 0 1 1-1H6a1 1 0 0 1 1-1h2a1 1 0 0 1 1 1h3.5a1 1 0 0 1 1 1v1zM4.118 4 4 4.059V13a1 1 0 0 0 1 1h6a1 1 0 0 0 1-1V4.059L11.882 4H4.118zM2.5 3V2h11v1h-11z"/>
                                                  </svg>
                                              </a>
                                              </button>
                                            </form> 
                                          <!-- </div>  -->
                                          <!-- <div class="col-3 g-0 text-start"> -->
                                              
                                          <!-- </div> -->
                                        <!-- </div> -->
                                     </div>     
                                               
                                       {% endif %}
                                    {% endfor %}

                                    <p></p>                                                    
                                </fieldset>
                                <div class="form-group">
                                  <div ><a  class="btn btn-outline-info" href="{% url 'add-sub-base' base.id %}"
                                    class="btn btn-outline-danger " >Adicionar Sub base</a></div>
                              </div>
                        </div> 
                      </div>
                  </div> 
                
                    {% endif %}
                 {% endfor %}
                </div>
  
              </form>
          </div>
          <div class="form-group">
            <div ><a class="btn btn-outline-info" href="{% url 'add-base' item.id %}"
              class="btn btn-outline-danger" >Adicionar Base</a></div>
        </div>
        </div>
    </div> 
  </div> 
  {% endfor %}

{% endblock %}

